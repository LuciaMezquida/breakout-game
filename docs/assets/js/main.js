"use strict";const grid=document.querySelector(".grid"),scoreDisplay=document.querySelector(".score"),blockWidth=100,blockHeight=20,ballDiameter=20,boardWidth=550,boardHeight=300;let xDirection=2,yDirection=2,score=0;const startUserPossition=[230,10];let currentUserPossition=startUserPossition;const startBallPossition=[270,40];let timerId,currentBallPossition=startBallPossition;class Block{constructor(e,t){this.bottomLeft=[e,t],this.bottomRight=[e+100,t],this.topLeft=[e,t+20],this.topRight=[e+100,t+20]}}const blocks=[new Block(10,270),new Block(120,270),new Block(230,270),new Block(340,270),new Block(450,270),new Block(10,240),new Block(120,240),new Block(230,240),new Block(340,240),new Block(450,240),new Block(10,210),new Block(120,210),new Block(230,210),new Block(340,210),new Block(450,210)],addBlocks=()=>{for(let e=0;e<blocks.length;e++){const t=document.createElement("div");t.classList.add("block"),t.style.left=blocks[e].bottomLeft[0]+"px",t.style.bottom=blocks[e].bottomLeft[1]+"px",grid.appendChild(t)}};addBlocks();const drawUser=()=>{user.style.left=currentUserPossition[0]+"px",user.style.bottom=currentUserPossition[1]+"px"},user=document.createElement("div");user.classList.add("user"),drawUser(),grid.appendChild(user);const moveUser=e=>{switch(e.key){case"ArrowLeft":currentUserPossition[0]>10&&(currentUserPossition[0]-=20,drawUser());break;case"ArrowRight":currentUserPossition[0]<450&&(currentUserPossition[0]+=20,drawUser())}};document.addEventListener("keydown",moveUser);const drawBall=()=>{ball.style.left=currentBallPossition[0]+"px",ball.style.bottom=currentBallPossition[1]+"px"},ball=document.createElement("div");ball.classList.add("ball"),drawBall(),grid.appendChild(ball);const moveBall=()=>{currentBallPossition[0]+=xDirection,currentBallPossition[1]+=yDirection,drawBall(),checkForCollisions()};timerId=setInterval(moveBall,30);const checkForCollisions=()=>{for(let e=0;e<blocks.length;e++)if(currentBallPossition[0]>blocks[e].bottomLeft[0]&&currentBallPossition[0]<blocks[e].bottomRight[0]&&currentBallPossition[1]+20>blocks[e].bottomLeft[1]&&currentBallPossition[1]<blocks[e].topLeft[1]){document.querySelectorAll(".block")[e].classList.remove("block"),blocks.splice(e,1),changeDirection(),score++,scoreDisplay.innerHTML=score,0===blocks.length&&(scoreDisplay.innerHTML="YOU WIN!!!",clearInterval(timerId),document.removeEventListener("keydown",moveUser))}currentBallPossition[0]>currentUserPossition[0]&&currentBallPossition[0]<currentUserPossition[0]+100&&currentBallPossition[1]>currentUserPossition[1]&&currentBallPossition[1]<currentUserPossition[1]+20&&changeDirection(),(currentBallPossition[0]>=530||currentBallPossition[1]>=280||currentBallPossition[0]<=0)&&changeDirection(),currentBallPossition[1]<=0&&(clearInterval(timerId),scoreDisplay.innerHTML="LOOOOSER!!!!",document.removeEventListener("keydown",moveUser))},changeDirection=()=>{2!==xDirection||2!==yDirection?2!==xDirection||-2!==yDirection?-2!==xDirection||-2!==yDirection?-2!==xDirection||2!==yDirection||(xDirection=2):yDirection=2:xDirection=-2:yDirection=-2};